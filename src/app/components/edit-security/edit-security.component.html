<h3 class="mt-4 text-center">Edit Security Information</h3>


<div class="card p-4">

  <form [formGroup]="updateSecurityForm" (ngSubmit)="onSubmit()">

    <div class="form-group row">

      <label class="col-sm-4 col-form-label">Current Email: </label>

      <div class="col-sm-8">

        <input type="text" readonly class="form-control-plaintext" name="email" value="hello@example.com">

      </div>

    </div>
 
    <div class="form-group row">

      <label class="col-sm-4 col-form-label">Current Mobile:</label>

      <div class="col-sm-8">

        <input type="text" readonly class="form-control-plaintext" name="mobileNumber" value="0912345677">

      </div>

    </div>

    <div class="form-group">

      <label class="mt-2">New email address</label>

      <input 
        type="email" 
        formControlName="newEmail" 
        class="form-control" 
        placeholder="Enter new email">
      
      <span class="text-danger" *ngIf="updateSecurityForm.get('newEmail').hasError('email')">Enter a valid email.</span>

    </div>

    <div class="form-group">

      <label class="mt-3">New mobile number</label>

      <input 
        type="text" 
        formControlName="mobileNumber" 
        class="form-control"
        placeholder="Enter new mobile number">

    </div>

    <div class="form-group">

      <label class="mt-3">New password</label>

      <input 
        type="password" 
        formControlName="newPassword" 
        class="form-control" 
        placeholder="Enter new password">

      <span class="text-danger" *ngIf="updateSecurityForm.get('newPassword').hasError('minlength')">Minumum length should be 8 characters.</span>

    </div>

    <div class="form-group">

      <label class="mt-3">Confirm new password</label>

      <input 
        type="password" 
        formControlName="confirmPassword" 
        class="form-control"
        placeholder="Confirm new password">

      <span class="text-danger" *ngIf="updateSecurityForm.get('confirmPassword').hasError('required') && updateSecurityForm.controls['confirmPassword']?.touched">Confirm password is required.</span>

      <span class="text-danger" *ngIf="updateSecurityForm.get('confirmPassword').hasError('mustMatch')">Passwords do not match.</span>

      <span class="text-success" *ngIf="updateSecurityForm.get('confirmPassword').valid">Passwords match.</span>

    </div>

    <div class="form-group">

      <label class="mt-3">Current Password</label>

      <input 
        type="password" 
        formControlName="currentPassword" 
        class="form-control" 
        placeholder="Enter current password"/>

        <span class="text-muted" *ngIf="updateSecurityForm.get('currentPassword').hasError('required')">*Current password is required to change security information.</span>

        <span class="text-danger" *ngIf="updateSecurityForm.controls['currentPassword']?.touched">*Current password is required to change security information.</span>

    </div>

    <div class="mt-3">

      <button type="save" class="btn btn-primary" (click)="onSubmit()" [disabled]="!updateSecurityForm.valid">Save</button>

    </div>

  </form>

</div>

